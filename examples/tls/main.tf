terraform {
  required_providers {
    edgio = {
      source = "hashicorp.com/edu/edgio"
    }
  }
}

variable "client_id" { type = string }
variable "client_secret" {  type = string }
variable "environment_id" { type = string }

provider "edgio" {
  client_id     = var.client_id
  client_secret = var.client_secret
}

resource "edgio_tls_cert" "my_cert" {
  environment_id = var.environment_id
  primary_cert = <<EOF
-----BEGIN CERTIFICATE-----\nMIIDDjCCAfagAwIBAgIBAjANBgkqhkiG9w0BAQsFADASMRAwDgYDVQQDDAdSdWJ5\nIENBMB4XDTI0MTAwMTA5NTIxNVoXDTI1MTAwMTA5NTIxNVowUDETMBEGCgmSJomT\n8ixkARkWA29yZzEZMBcGCgmSJomT8ixkARkWCXJ1YnktbGFuZzEeMBwGA1UEAwwV\nbXktdGVzdC10ZXJyYWZvcm0uY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB\nCgKCAQEA2Li8pnuy9z3IZNoE2KOTP3sojShB9gVqSt176AYPAq3sV9zpNH0WmEZz\n2GAo3ETp6fkGkFyIHVuib8zkzqjQmMQrsMHW616ucEuCTOU72fH4CIOKTSRIkErO\nnpYIN5DeQzOUYAwAqPljrj24pVLY3LeTJbWYGfrI/c4kx7CrRYE8MO89spd498cY\n4qDDkoHIpiFJUeySV2LHsoOsoxy5cxGgdsD/LBnAaRLlLHjrZMXHo/E0Mamii7v3\ncwlhOTDLqXQgkBPZve5YkhJekGG5x9quO6+IgvPrJndGTOPThzfCOUGvWo52K5WK\nFp5DN6fMKCoXp4ATpN2Jk5CJV/oFEwIDAQABozEwLzAOBgNVHQ8BAf8EBAMCB4Aw\nHQYDVR0OBBYEFKas1ZdV+YXBoGuu8+vxG9gAE7uOMA0GCSqGSIb3DQEBCwUAA4IB\nAQCBLSXoBqIviJ8vZ+VRUO/KTkkxTS7Rrr/wUjRQx+8FwPxoYGcrTLZCoZdvu5r4\nIeJHZJb54Ta5O54A3FK28yMdT45EXAGaGYIlTPXPv7YgRhVCO3hfFCaRf4Rdyg0C\nhamDt5jy4arNKSeY+DmP0PSOu92k2V+VxvlghKrIToYuPAi7KkiwmMh8hBW52oBD\nVZqcbdTTKYbAdYJLkCw+xTiF8J96ar6A1aQ1si6tHB+SgjBkdc8tSq0Xq2TPmKwf\n/+TFbvWu2/8AnGXzTuV5qCOeNmDxLD8s6Bw4mPlOmLaXht0MwcX1DCKHX6a5JTg3\nd13RYEXuOoF+P0uL/3Yde/Lx\n-----END CERTIFICATE-----
EOF
  intermediate_cert = <<EOF
  -----BEGIN CERTIFICATE-----\nMIIDAjCCAeqgAwIBAgIBATANBgkqhkiG9w0BAQsFADASMRAwDgYDVQQDDAdSdWJ5\nIENBMB4XDTE0MTAwMTA5NTIxNVoXDTM0MTAwMTA5NTIxNVowEjEQMA4GA1UEAwwH\nUnVieSBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANK9WQOGymwG\nwSTgOHxYF/A2Fbjq0PL6V1HyBIlfuJkvfMXB/roO9xUqVicUaplES8okg687CBks\nWXB7oB6xIODdrtsD8iOWEnRajcLchY3AOLXoSmKo1RE0z9ofoXYJE4m1Vs9U+u3h\n2kUkoknDx7i8g5tqauFUEViRX5cly7/AxPlBShkAklQz9kIwYYLotoeoFUx1H4pK\nqRfWDNMTxHVVMysAjWBIUKkedMTmhkRX9+klaac+Yt9Tp9gRqR+hia6nWZGxl8pN\nfNYjddjetFDDYYCNKXXkaPjQJRyJgPzlfbv0ko+P3ydnQqXi5M7kHoY0+eD0Bk/g\nAOKX/H6Ycb8CAwEAAaNjMGEwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMC\nAQYwHQYDVR0OBBYEFJ5fDi8vB5G8h1SRo5EYNyv9thcZMB8GA1UdIwQYMBaAFJ5f\nDi8vB5G8h1SRo5EYNyv9thcZMA0GCSqGSIb3DQEBCwUAA4IBAQCWocdgvcOgjbQX\nj5WSCwcMNxU824l6ZNcmLUhxsuxSDhWF0OzAeGrFA9a3wAr1/viAUeJSgogUHZrt\nl9a14vWYVfnUnOP1a4gwp/eSZI7KAbkinJt4cfiu40vWLuar/sFCt+7OIDgpfgtU\nXhMNnEyix+O276rWkTXrHcNpknnzJiuX4o5bU0QNMNRcfCKlZU7XCDBPGfIwhd+x\nRbKLQnW+lsZK0++O3dY1JaqrkFtEd+YoqtXdXaZdYy6mJ9HAvoOfSbZ6iozBkyco\nLEDXBlC1t+g+4xl97MV8EcZNRr46txO3HbqLFSryahC5xKVbU3rklOLZH60M1eb8\nirOZ2jNp\n-----END CERTIFICATE-----
EOF
  private_key = <<EOF
-----BEGIN RSA PRIVATE KEY-----\nMIIEpQIBAAKCAQEA2Li8pnuy9z3IZNoE2KOTP3sojShB9gVqSt176AYPAq3sV9zp\nNH0WmEZz2GAo3ETp6fkGkFyIHVuib8zkzqjQmMQrsMHW616ucEuCTOU72fH4CIOK\nTSRIkErOnpYIN5DeQzOUYAwAqPljrj24pVLY3LeTJbWYGfrI/c4kx7CrRYE8MO89\nspd498cY4qDDkoHIpiFJUeySV2LHsoOsoxy5cxGgdsD/LBnAaRLlLHjrZMXHo/E0\nMamii7v3cwlhOTDLqXQgkBPZve5YkhJekGG5x9quO6+IgvPrJndGTOPThzfCOUGv\nWo52K5WKFp5DN6fMKCoXp4ATpN2Jk5CJV/oFEwIDAQABAoIBAA3Fe3Nm0+IDIotK\nEVnE1zQG+vYxUzOzd2Qne9qsG+MTMzwIFSeZNUja3TyoK6CHnoeYI/MjdiDLdGB/\nWCDLuGmkuZQDVUlinFoVakPBo1J/nj/IQA8T2aqVnliUdxQ01/LUQb7ytE4Ifu2R\nDX0v7Qjlf2u7hN1Nwtzh7xNjZhbF+CHjX5KFG0K9+WWAFPNKCVexiGipDYDNYcFu\nC+3UOnMCKSn4QklusiWwiNn6tt/JfJUlNJYTxbWiDVuuB2l0qYnNUOS/mGp2j2iO\nfVBIckNJyPIPEhE0o4L+hQ43OZlujrKTmpVub1JZr1uiQ/7LQNqSIBoDMAlt3F8H\naizNpFUCgYEA7dh2rC05mCshvHS6VkCmP0xvRSp7jRYgmlAMw8lHOyGqhtaCGCIa\njyUkeo1tmljD1QohsUe+K9iKC63bBewTVsq9rNrGe7RZsgtqPUpK4z2uFdSZ8Hot\nwcTgvHaVqiBuyCaUvNkwIlXHxLQaPbaTT6jjhbSteuzHeMHJ1yFWRw0CgYEA6UOC\nONLPdggqxwXzzNro/aQlRRZaydIINKZfV//3t1ly5GIaMB4RiXQ01IGAvK8pqqPI\nNnS7b7qOOL/mxFO3/1Z4E5+iT73ZQtePZT66Mm0IltBihK8yXqN0DLJL1lAABFx8\nIPH75TLnFa2oV+849foBdwvLEC7DnQNV8at6dJ8CgYEAn2WveopAjANz84nDC2T+\nRXOjKpZjANWwedpmA5xT+YQBdaYyv5uzcvVwchVwO717WL4WgGnVQCs5sMQOAfUJ\nrOPoo/xmgqcGabUOuQ6eC5bdoVG+7RPksHSSLJvIh6B+vfJlQf7ILGqSm/gbkfpW\n1U8ZVBUXIkenEv3EmEGGQc0CgYEA1xYmp1rLbVyOhUHZ0lUwbWDD9PZt9Ja0dkfK\ntowR0ICsTiafWyr+pK4AYMqg+FrTosKuxHfStW1h4rYghXtkuA71XbLeqYS3Jsk5\nMfQrIIAlYVr43LvnSBiT03k8MHtH6L2Wv5Ih4O+U4Qplpd+xuC40156KOXvFZ6xB\nvTuPCKUCgYEAzgyMeybEfFIHhZgkTW7fyNv0f+tQelx3/16WHr41VCGoNEC7Nuoh\naTQVwkTiLjO9sxeVBle3cX1ZlSVxxigNBonhHkedO4Bs/zUODJSLbzh0mGm2RnRE\nENt4XYX6bLBagz9+Yd1Rdh7kAcUwyW4THHslBRX+hdVgAxqBgQ5mU90=\n-----END RSA PRIVATE KEY-----
EOF
}

output "added_purge_cache" {
  value = edgio_tls_cert.my_cert
}
 
 