---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "edgio_cdn_configuration Resource - terraform-provider-edgio"
subcategory: ""
description: |-
  
---

# edgio_cdn_configuration (Resource)

Use the `edgio_cdn_configuration` resource to:
* Deploy a new CDN configuration.

Learn more about the CDN configuration resource in the [Edgio API documentation](https://docs.edg.io/applications/v7/basics/deployments).

## Example Usage

```terraform
terraform {
  required_providers {
    edgio = {
      source = "Edgio/edgio"
      version = "0.1.0"
    }
  }
}

variable "client_id" { type = string }
variable "client_secret" {  type = string }
variable "organization_id" { type = string }

provider "edgio" {
  client_id     = var.client_id
  client_secret = var.client_secret
}

resource "edgio_property" "my_property" {
  organization_id = var.organization_id
  slug = "edgio-config-example"
}

resource "edgio_environment" "my_env" {
  property_id                 = edgio_property.my_property.id
  name                        = "main"
  only_maintainers_can_deploy = false  
  http_request_logging        = true
}

resource "edgio_cdn_configuration" "my_cdn_configuration" {
    environment_id = edgio_environment.my_env.id
    rules = jsonencode(
    [
        {
            "if": [
            {
                "==": [
                {
                    "request": "path"
                },
                "/:path*"
                ]
            },
            {
                "origin": {
                    "set_origin": "edgio_serverless"
                },
                "headers": {
                    "set_request_headers": {
                        "+x-cloud-functions-hint": "app"
                    }
                }
            }
            ]
        }
    ])	
    origins = [
        {
            name: "origin-1",
            type: "customer_origin",
             balancer: "round_robin",	
            override_host_header: "edgio-terraform-example.com",
            pci_certified_shields: false,			
            hosts: [
                {
                    scheme: "https",
                    weight: 100,
                    use_sni: false,
                    balancer: "round_robin",
                    location: [
                    {
                        port: 443,
                        hostname: "origin.edgio-terraform-example.com"
                    }
                    ],
                    max_pool: 0,
                    dns_max_ttl: 3600,
                    dns_min_ttl: 600,
                    max_hard_pool: 10,
                    dns_preference: "prefv4",
                    override_host_header: "edgio-terraform-example.com",
                    sni_hint_and_strict_san_check: "edgio-terraform-example.com"
                }
            ],
        }
    ]

    hostnames = [{
        hostname             = "cdn.edgio-terraform-example.com"
        default_origin_name  = "origin-1"

        tls = {
            npn                = true
            alpn               = true
            protocols          = "TLSv1.2"
            use_sigalgs        = true
            sni                = true
            sni_strict         = true
            sni_host_match     = true
            client_renegotiation = false
            cipher_list        = "ECDHE-RSA-AES128-GCM-SHA256"
        }
    }]		
}

output "added_config" {
  value = edgio_cdn_configuration.my_cdn_configuration
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_id` (String)
- `hostnames` (Attributes List) (see [below for nested schema](#nestedatt--hostnames))
- `origins` (Attributes List) (see [below for nested schema](#nestedatt--origins))
- `rules` (String)

### Optional

- `configuration_id` (String)
- `edge_function_init_script` (String)
- `edge_functions_sources` (Map of String)
- `experiments` (List of String)

<a id="nestedatt--hostnames"></a>
### Nested Schema for `hostnames`

Required:

- `hostname` (String)

Optional:

- `default_origin_name` (String)
- `directory` (String)
- `report_code` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--hostnames--tls))

<a id="nestedatt--hostnames--tls"></a>
### Nested Schema for `hostnames.tls`

Optional:

- `alpn` (Boolean)
- `ca` (String)
- `cipher_list` (String)
- `client_renegotiation` (Boolean)
- `named_curve` (String)
- `npn` (Boolean)
- `options` (String)
- `oscp` (Boolean)
- `pem` (String)
- `protocols` (String)
- `sni` (Boolean)
- `sni_host_match` (Boolean)
- `sni_strict` (Boolean)
- `use_sigalgs` (Boolean)



<a id="nestedatt--origins"></a>
### Nested Schema for `origins`

Required:

- `name` (String)

Optional:

- `balancer` (String)
- `hosts` (Attributes List) (see [below for nested schema](#nestedatt--origins--hosts))
- `override_host_header` (String)
- `pci_certified_shields` (Boolean)
- `retry` (Attributes) (see [below for nested schema](#nestedatt--origins--retry))
- `shields` (Attributes) (see [below for nested schema](#nestedatt--origins--shields))
- `tls_verify` (Attributes) (see [below for nested schema](#nestedatt--origins--tls_verify))
- `type` (String)

<a id="nestedatt--origins--hosts"></a>
### Nested Schema for `origins.hosts`

Optional:

- `balancer` (String)
- `dns_max_ttl` (Number)
- `dns_min_ttl` (Number)
- `dns_preference` (String)
- `location` (Attributes List) (see [below for nested schema](#nestedatt--origins--hosts--location))
- `max_hard_pool` (Number)
- `max_pool` (Number)
- `override_host_header` (String)
- `scheme` (String)
- `sni_hint_and_strict_san_check` (String)
- `use_sni` (Boolean)
- `weight` (Number)

<a id="nestedatt--origins--hosts--location"></a>
### Nested Schema for `origins.hosts.location`

Optional:

- `hostname` (String)
- `port` (Number)



<a id="nestedatt--origins--retry"></a>
### Nested Schema for `origins.retry`

Optional:

- `after_seconds` (Number)
- `ignore_retry_after_header` (Boolean)
- `max_requests` (Number)
- `max_wait_seconds` (Number)
- `status_codes` (List of Number)


<a id="nestedatt--origins--shields"></a>
### Nested Schema for `origins.shields`

Optional:

- `apac` (String)
- `emea` (String)
- `us_east` (String)
- `us_west` (String)


<a id="nestedatt--origins--tls_verify"></a>
### Nested Schema for `origins.tls_verify`

Optional:

- `allow_self_signed_certs` (Boolean)
- `pinned_certs` (List of String)
- `sni_hint_and_strict_san_check` (String)
- `use_sni` (Boolean)